---
title: "设计理念"
date: 2020-02-01T18:25:23+08:00
draft: false
weight: 4
---

##### TUN TAP VPN
这些类型的inbound对复杂的网络不太友好，比如需要同时访问专用网、内网、外网。  
建议使用按进程代理的软件：[https://github.com/PragmaTwice/proxinject](https://github.com/PragmaTwice/proxinject)  
或者通过添加自定义core使用支持tun功能的内核。  

##### 分组
因为以下原因，这个软件没有分组功能：  
 1. 分组是个层级结构，增加数据处理复杂度  
 2. 分组其实是按单个属性（组名）归类，如果想把一个服务器同时分进多个组就不太好处理  
 3. 随着服务器数量增加分组会失效。假设一开始有500个服务器，分5组每组100个服务器，一切都很好。但是如果服务器数量增加到5000个，就算分10组每组也有500个服务器。这时每组的服务器数和原来一样多，并不好管理  

这个软件采用贴标签的方式来管理服务器。GUI提供 `标记(mark)` 和 `备注(remark)` 两个主标签，其实就是多属性归类。还可以通过NeoLuna插件用lua脚本设置tag1, tag2, tag3三个附加标签。  

##### 插件
出于安全考虑以前只有内置插件，从`v1.8.3`起又重新支持第三方插件。  

##### MailBox
这起源于Luna插件Sys库。最初是想给不同脚本提供一个相互通信的途径于是做了个MailBox。原理很简单，就是模拟了现实生活中的寄信过程。但是这个功能做出来之后我都没遇到过需要多个脚本之间通信的情况。所以这个功能就荒废了吗？并没有。后来发现他还能用在.net(c#)和lua之间通信。其实Luna插件里面的全局热键、事件响应、task.lua（更易用的协程）以及v1.6.9推出的Web UI都是这个小小的MailBox撑起来的。这是一个很神奇的小功能。  